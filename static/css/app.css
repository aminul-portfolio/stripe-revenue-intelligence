:root{
  --bg:#fbf8f2;
  --card:#fff;
  --ink:#0f172a;
  --muted:#556070;
  --forest:#1f5131;
  --border:rgba(15,23,42,.08);
  --shadow:0 18px 40px rgba(15,23,42,.08);
  --radius:18px;

  /* Dashboard “reference” system */
  --dash-surface:#f3f6fb;
  --dash-border:rgba(15,23,42,.10);
  --dash-shadow:0 20px 60px rgba(15,23,42,.12);
  --panel-shadow:0 18px 40px rgba(15,23,42,.10);

  --blue:#1f5aa6;
  --blue2:#2e77cf;

  --green:#2c7a4b;
  --green2:#39a164;

  --purple:#6a4bc7;
  --purple2:#8b6ee5;

  --red:#b91c1c;
  --red2:#ef4444;

  --dark:#0b1220;
  --dark2:#24324a;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--ink);
}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:0 auto;padding:28px 20px}

/* NAV */
.nav-shell{
  position:sticky;
  top:0;
  background:rgba(251,248,242,.9);
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
  z-index:50
}
.nav-inner{
  max-width:1200px;margin:0 auto;
  padding:16px 20px;
  display:flex;gap:18px;align-items:center
}
.brand{font-weight:800;letter-spacing:.4px;color:var(--forest)}
.nav-links{display:flex;gap:14px;align-items:center;flex:1}
.nav-links a{padding:8px 10px;border-radius:12px}
.nav-links a:hover{background:rgba(31,81,49,.08)}
.nav-right{display:flex;gap:10px;align-items:center}
.role{font-size:12px;color:var(--muted)}
.pill{
  background:rgba(31,81,49,.10);
  padding:2px 8px;border-radius:999px;
  font-size:12px;color:var(--forest)
}

/* HERO / SECTIONS */
.hero{
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:22px;
  align-items:center;
  padding:20px 0 10px
}
.hero-left h1{
  font-family:Georgia,serif;
  font-size:64px;
  letter-spacing:-.5px;
  margin:0 0 12px;
  color:var(--forest)
}
.hero-left p{
  margin:0 0 18px;
  color:var(--muted);
  max-width:52ch;
  line-height:1.6
}
.hero-actions{display:flex;gap:12px;flex-wrap:wrap}
.hero-right{display:flex;justify-content:flex-end}
.hero-card{
  width:100%;
  min-height:240px;
  border-radius:var(--radius);
  background:linear-gradient(135deg, rgba(31,81,49,.12), rgba(31,81,49,.02));
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  display:flex;flex-direction:column;
  justify-content:center;align-items:center
}
.hero-card-title{font-family:Georgia,serif;font-size:22px;color:var(--forest)}
.hero-card-sub{color:var(--muted);margin-top:6px}
.section{padding:22px 0}
.section-head{
  display:flex;align-items:end;justify-content:space-between;
  gap:12px;margin:12px 0
}
.section-head h1,.section-head h2{margin:0}
.muted{color:var(--muted)}
.link{color:var(--forest)}

/* GRIDS */
.grid{display:grid;gap:16px}
.grid.products{grid-template-columns:repeat(3,minmax(0,1fr))}
.grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
@media(max-width:980px){
  .hero{grid-template-columns:1fr}
  .grid.products{grid-template-columns:repeat(2,minmax(0,1fr))}
  .grid2{grid-template-columns:1fr}
  .hero-left h1{font-size:44px}
}
@media(max-width:560px){.grid.products{grid-template-columns:1fr}}

/* CARDS / BUTTONS / FORMS */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow)
}
.product-card{overflow:hidden}
.product-thumb{
  height:160px;
  background:linear-gradient(135deg, rgba(31,81,49,.08), rgba(31,81,49,.02))
}
.product-body{padding:14px}
.product-body h3{margin:0 0 10px;font-size:16px}
.product-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.price{font-weight:800;color:var(--forest)}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:999px;padding:10px 16px;
  border:1px solid var(--border);
  background:transparent;cursor:pointer;font-weight:700
}
.btn.primary{background:var(--forest);border-color:var(--forest);color:white}
.btn.ghost{background:transparent}
.btn.danger{background:#7f1d1d;color:white;border-color:#7f1d1d}
.btn.small{padding:8px 12px;font-size:13px}
.heart{
  border:1px solid var(--border);
  background:white;border-radius:999px;
  width:36px;height:36px;
  display:inline-flex;align-items:center;justify-content:center;
  cursor:pointer
}
.heart.big{width:44px;height:44px;font-size:18px}
.detail{display:grid;grid-template-columns:1fr 1fr;gap:18px}
.detail-media{
  min-height:360px;border-radius:var(--radius);
  background:linear-gradient(135deg, rgba(31,81,49,.08), rgba(31,81,49,.02));
  border:1px solid var(--border)
}
.detail-info{padding:6px}
.price-row{display:flex;justify-content:space-between;align-items:center;margin:12px 0}
.row{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.input,.select{
  width:100%;padding:10px 12px;border-radius:12px;
  border:1px solid var(--border);background:white
}
.input.small{width:80px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{
  padding:12px;border-bottom:1px solid var(--border);
  text-align:left;vertical-align:top
}
.inline{display:flex;gap:8px;align-items:center}
.cart-summary{display:flex;justify-content:space-between;align-items:center;padding:14px}
.actions{display:flex;gap:10px;align-items:center}
.form{padding:16px}

/* MESSAGES */
.messages{margin:12px 0}
.msg{
  padding:10px 12px;border-radius:12px;margin-bottom:8px;
  border:1px solid var(--border);background:white
}
.msg.success{border-color:rgba(31,81,49,.25)}
.msg.error{border-color:rgba(127,29,29,.35)}

/* FOOTER */
.footer{border-top:1px solid var(--border);margin-top:40px;padding:26px 0}
.footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:16px}
@media(max-width:880px){.footer-grid{grid-template-columns:1fr}}
.linklike{
  background:none;border:0;padding:0;margin:0;cursor:pointer;
  font:inherit;color:inherit;text-decoration:underline;
}
.linklike:hover{opacity:.85}

/* =========================
   DASHBOARD (REFERENCE LOOK)
   ========================= */
.dash-shell{
  background:var(--dash-surface);
  border:1px solid var(--dash-border);
  border-radius:28px;
  box-shadow:var(--dash-shadow);
  padding:26px;
}

.dash-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:18px;
  margin-bottom:18px;
}

.dash-title{min-width:320px}
.dash-h1{
  margin:0;
  font-size:54px;
  line-height:1.05;
  letter-spacing:-.6px;
}
.dash-sub{
  margin-top:10px;
  color:rgba(15,23,42,.75);
  font-size:18px;
}

.dash-actions{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
  padding-top:4px;
}

/* Banner */
.dash-banner{
  margin-top:14px;
  display:flex;
  gap:10px;
  align-items:flex-start;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.14);
  background:#fff;
}
.dash-banner.warn{
  border-color:rgba(180,83,9,.35);
  background:rgba(245,158,11,.14);
}
.banner-icn{font-size:18px;line-height:1;margin-top:1px}
.banner-text{font-size:14px;color:rgba(15,23,42,.85)}
.banner-text code{display:inline-block;margin-left:6px}
.banner-action{display:block;margin-top:4px}

/* Tabs */
.tabs{
  display:flex;
  border-radius:999px;
  overflow:hidden;
  border:1px solid rgba(15,23,42,.12);
  background:rgba(255,255,255,.75);
}
.tab{
  padding:12px 18px;
  font-weight:800;
  letter-spacing:.2px;
  color:rgba(15,23,42,.78);
  border-right:1px solid rgba(15,23,42,.10);
}
.tab:last-child{border-right:0}
.tab:hover{background:rgba(15,23,42,.04)}
.tab.active{
  background:#0b4ea2;
  color:#fff;
}

/* Exports menu (no JS; uses <details>) */
.menu{position:relative}
.menu-btn{
  list-style:none;
  cursor:pointer;
  padding:12px 18px;
  border-radius:999px;
  border:1px solid rgba(15,23,42,.12);
  background:rgba(255,255,255,.75);
  font-weight:800;
  user-select:none;
}
.menu summary::-webkit-details-marker{display:none}
.menu[open] .menu-btn{box-shadow:0 10px 24px rgba(15,23,42,.14)}
.menu-pop{
  position:absolute;
  right:0;
  top:56px;
  min-width:240px;
  background:#fff;
  border:1px solid rgba(15,23,42,.12);
  border-radius:16px;
  box-shadow:0 18px 45px rgba(15,23,42,.18);
  padding:10px;
  z-index:60;
}
.menu-pop a{
  display:block;
  padding:12px 12px;
  border-radius:12px;
  font-weight:700;
}
.menu-pop a:hover{background:rgba(15,23,42,.05)}
.caret{margin-left:6px}

/* KPI GRID */
.kpi-grid{
  display:grid;
  gap:14px;
  margin-top:10px;
  margin-bottom:18px;
}
.kpi-grid--5{grid-template-columns:repeat(5,minmax(0,1fr))}
@media(max-width:1280px){.kpi-grid--5{grid-template-columns:repeat(4,minmax(0,1fr))}}
@media(max-width:1200px){.kpi-grid--5{grid-template-columns:repeat(3,minmax(0,1fr))}}
@media(max-width:760px){.kpi-grid--5{grid-template-columns:repeat(1,minmax(0,1fr))}}

/* IMPORTANT: prevent grid/flex min-width squeezing issues */
.kpi-grid > *{min-width:0}

.kpi{
  position:relative;
  border-radius:22px;
  /* Right padding is intentionally bigger to prevent currency clipping */
  padding:16px 22px 14px 16px;
  color:#fff;
  overflow:hidden; /* keep blobs inside */
  box-shadow:0 18px 40px rgba(15,23,42,.18);
  border:1px solid rgba(255,255,255,.14);
  min-width:0;
}

/* Blobs */
.kpi::before{
  content:"";
  position:absolute;
  right:-40px;
  top:-40px;
  width:160px;
  height:160px;
  border-radius:999px;
  background:rgba(255,255,255,.14);
  z-index:0;
}
.kpi::after{
  content:"";
  position:absolute;
  right:-10px;
  bottom:-60px;
  width:220px;
  height:220px;
  border-radius:999px;
  background:rgba(255,255,255,.10);
  z-index:0;
}

/* Ensure KPI text is always above blobs */
.kpi > *{position:relative;z-index:2}

.kpi-label{
  color: rgba(255,255,255,.92);
  font-size: 14px;
  font-weight: 800;
  letter-spacing: .2px;
  text-shadow: 0 1px 0 rgba(0,0,0,.08);
}

.kpi-value{
  margin-top: 10px;
  font-weight: 950;
  letter-spacing: -0.04em;
  line-height: .96;

  /* Responsive sizing tuned for 5-col layout */
  font-size: clamp(30px, 2.7vw, 54px);

  /* Keep currency on one line; do NOT self-clip */
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  max-width: 100%;

  font-variant-numeric: tabular-nums;
}

@media (min-width:1100px){
  .kpi-grid--5 .kpi-value{
    font-size: clamp(30px, 2.2vw, 50px);
  }
}

.kpi-meta{
  margin-top:12px;
  font-size:14px;
  color: rgba(255,255,255,.90);
  text-shadow: 0 1px 0 rgba(0,0,0,.08);
}

/* Tones */
.tone-blue{background:linear-gradient(135deg,var(--blue),var(--blue2))}
.tone-green{background:linear-gradient(135deg,var(--green),var(--green2))}
.tone-purple{background:linear-gradient(135deg,var(--purple),var(--purple2))}
.tone-red{background:linear-gradient(135deg,var(--red),var(--red2))}
.tone-dark{background:linear-gradient(135deg,var(--dark),var(--dark2))}

/* PANELS */
.panel-grid{display:grid;gap:14px;margin-top:14px}
.panel-grid--3{grid-template-columns:repeat(3,minmax(0,1fr))}
.panel-grid--4{grid-template-columns:repeat(4,minmax(0,1fr))}
@media(max-width:1200px){.panel-grid--4{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media(max-width:980px){
  .panel-grid--3{grid-template-columns:1fr}
  .panel-grid--4{grid-template-columns:1fr}
}

.panel{
  background:#fff;
  border:1px solid rgba(15,23,42,.10);
  border-radius:22px;
  box-shadow:var(--panel-shadow);
  overflow:hidden;
}
.panel-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid rgba(15,23,42,.08);
}
.panel-head h2{margin:0;font-size:20px;letter-spacing:-.2px}
.panel-meta{color:rgba(15,23,42,.55);font-weight:700;font-size:14px}
.panel-body{padding:10px 12px 14px}

/* Plot sizing */
.plot{width:100%;height:320px}
.plot--tall{height:360px}
